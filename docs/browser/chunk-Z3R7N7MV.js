import{a as x,b}from"./chunk-Y4GASUIQ.js";import{b as g,h as E}from"./chunk-BWDK4YJ7.js";import{a as y}from"./chunk-74CHJCYH.js";import{$b as v,Ba as m,Bb as p,Pb as d,Qb as f,Rb as h,Wa as s,a as c,ea as n,ja as u,ob as l}from"./chunk-JPTIIQB7.js";var C=["ctxProvider"],D=(()=>{let i=class i{constructor(){this.cdnUrl=new m,this.multiple=!1,this.ctxName="my-uploader",this.subscriptions=new c,this.profile=n(g),this.alert=n(y),this.profileStore=n(E),this.file=null,this.handleChangeEvent=r=>{let e=r.detail.allEntries.filter(t=>t.status==="success");this.file=e.length>0?e[0]:null,this.cdnUrl.emit(this.file?.cdnUrl)}}ngOnInit(){x(b),this.ctxProviderRef.nativeElement.addEventListener("change",this.handleChangeEvent)}ngOnDestroy(){this.ctxProviderRef.nativeElement.removeEventListener("change",this.handleChangeEvent),this.subscriptions.unsubscribe()}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u({type:i,selectors:[["app-uploader"]],viewQuery:function(e,t){if(e&1&&d(C,7),e&2){let a;f(a=h())&&(t.ctxProviderRef=a.first)}},inputs:{multiple:"multiple",ctxName:"ctxName"},outputs:{cdnUrl:"cdnUrl"},standalone:!0,features:[v],decls:4,vars:4,consts:[["ctxProvider",""],["pubkey","5c65cbe91a1652ab23d9","max-local-file-size-bytes","10000000","img-only","true","source-list","local, url, gdrive"],[1,"my-config"]],template:function(e,t){e&1&&p(0,"lr-config",1)(1,"lr-file-uploader-regular",2)(2,"lr-upload-ctx-provider",null,0),e&2&&(l("ctx-name",t.ctxName)("multiple",t.multiple),s(),l("ctx-name",t.ctxName),s(),l("ctx-name",t.ctxName))},styles:[".my-config[_ngcontent-%COMP%]{--darkmode: 0;--h-accent: 144;--s-accent: 67%;--l-accent: 57%}"]});let o=i;return o})();export{D as a};
