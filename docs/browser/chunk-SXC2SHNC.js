import{a as Z}from"./chunk-NS7TX6XP.js";import{a as X,c as Y}from"./chunk-KGIMTHJF.js";import{ga as M,l as Q}from"./chunk-QFBWRPON.js";import{c as G,n as J,q as K,t as N}from"./chunk-WEBSOFYO.js";import{$b as C,Ab as a,Ba as U,Bb as p,Cb as d,Db as g,Fb as j,Ib as D,Jc as H,Kb as u,Kc as E,Lc as P,Nb as L,Sc as F,Ta as h,Tb as m,Tc as W,Ub as x,Uc as q,Vb as v,Vc as b,Wa as i,Xa as z,_ as A,ac as _,bc as I,da as B,dc as V,ec as w,fc as R,gc as k,ja as y,nb as f,pb as r,ra as O,sa as T,zb as s}from"./chunk-JPTIIQB7.js";var ne=e=>({url:e,alt:"Small Preview"}),re=e=>({url:e,alt:"Medium Preview"}),oe=e=>({url:e,alt:"Large Preview"}),ae=(e,t,n)=>[e,t,n];function le(e,t){if(e&1&&(d(0),p(1,"app-image-slider",12),g()),e&2){let n=u();i(),r("images",V(7,ae,I(1,ne,n.worker.smallPreviewImageUrl),I(3,re,n.worker.mediumPreviewImageUrl),I(5,oe,n.worker.largePreviewImageUrl)))}}function se(e,t){if(e&1&&p(0,"img",13),e&2){let n=u();L("alt",n.worker.serviceTitle),r("src",n.worker.smallPreviewImageUrl||n.worker.logoUrl,h)}}function ce(e,t){if(e&1&&(s(0,"span",21),m(1),a()),e&2){let n=t.$implicit;i(),v(" ",n.trim()," ")}}function me(e,t){if(e&1&&(d(0),s(1,"div",14)(2,"p"),m(3),a()(),s(4,"div",15),m(5," Skills: "),f(6,ce,2,1,"span",16),a(),s(7,"div",17)(8,"p",18),m(9,"Status:"),s(10,"span",19),m(11),a()(),s(12,"p",18),m(13,"Since: "),s(14,"span",20),m(15),w(16,"date"),a()()(),g()),e&2){let n=u();i(3),x(n.worker.description),i(3),r("ngForOf",n.worker.skills==null?null:n.worker.skills.split(",")),i(4),r("ngClass",n.worker.approved?"text-green-600":"text-red-600"),i(),v(" ",n.worker.approved?"Approved":"Not Available",""),i(4),x(R(16,5,n.worker.hireDate))}}function pe(e,t){if(e&1){let n=j();s(0,"button",22),D("click",function(){O(n);let c=u();return T(c.bookNow.emit())}),m(1," Book Now "),a()}}function de(e,t){if(e&1){let n=j();s(0,"button",23),D("click",function(){O(n);let c=u();return T(c.showDetails.emit())}),m(1," Details "),a()}}function ge(e,t){if(e&1&&(s(0,"div",24)(1,"div",25)(2,"p",26),m(3),a(),p(4,"img",27),a()()),e&2){let n=u();i(3),x("@"+(n.worker.user==null?null:n.worker.user.firstName)),i(),r("src",n.worker.logoUrl,h)}}var ze=(()=>{let t=class t{constructor(){this.size="large",this.bookNow=new U,this.showDetails=new U}getFirstTwoSkills(){return(this.worker.skills?.split(",")||[]).slice(0,2).map(o=>o.trim())}};t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=y({type:t,selectors:[["app-service-card"]],inputs:{worker:"worker",size:"size"},outputs:{bookNow:"bookNow",showDetails:"showDetails"},standalone:!0,features:[C],decls:16,vars:16,consts:[[1,"flex","bg-white","rounded-lg","shadow","dark:bg-gray-800",3,"ngClass"],[1,"relative",3,"ngClass"],[4,"ngIf"],["class","object-cover w-full h-full rounded-l-lg",3,"src","alt",4,"ngIf"],[1,"flex-auto","p-4",3,"ngClass"],[1,"flex","flex-wrap","items-start","justify-between"],[1,"flex-auto","font-semibold","dark:text-gray-50","mb-2",3,"ngClass"],[1,"font-semibold","text-gray-500","dark:text-gray-300",3,"ngClass"],[1,"flex","mb-2","text-sm","font-medium","gap-2"],["type","button","class","py-2 px-4 bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500 focus:ring-offset-indigo-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg",3,"click",4,"ngIf"],["type","button","class","py-1 px-2 bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500 focus:ring-offset-indigo-200 text-white w-full transition ease-in duration-200 text-center text-sm font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg",3,"click",4,"ngIf"],["class","flex justify-end items-center",4,"ngIf"],[1,"w-full","h-[300px]",3,"images"],[1,"object-cover","w-full","h-full","rounded-l-lg",3,"src","alt"],[1,"mt-4","text-sm","text-gray-700","dark:text-gray-300"],[1,"mt-4","mb-4","text-sm","text-gray-500","dark:text-gray-300"],["class","inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2",4,"ngFor","ngForOf"],[1,"mb-4","text-sm","font-medium"],[1,"text-white"],[3,"ngClass"],[1,"text-green-500"],[1,"inline-block","bg-gray-200","rounded-full","px-3","py-1","text-sm","font-semibold","text-gray-700","mr-2","mb-2"],["type","button",1,"py-2","px-4","bg-indigo-600","hover:bg-indigo-700","focus:ring-indigo-500","focus:ring-offset-indigo-200","text-white","w-full","transition","ease-in","duration-200","text-center","text-base","font-semibold","shadow-md","focus:outline-none","focus:ring-2","focus:ring-offset-2","rounded-lg",3,"click"],["type","button",1,"py-1","px-2","bg-indigo-600","hover:bg-indigo-700","focus:ring-indigo-500","focus:ring-offset-indigo-200","text-white","w-full","transition","ease-in","duration-200","text-center","text-sm","font-semibold","shadow-md","focus:outline-none","focus:ring-2","focus:ring-offset-2","rounded-lg",3,"click"],[1,"flex","justify-end","items-center"],[1,"flex","gap-2","items-center"],[1,"text-sm","text-gray-500","dark:text-gray-300"],["alt","",1,"w-6","rounded-full","aspect-square",3,"src"]],template:function(c,l){c&1&&(s(0,"div",0)(1,"div",1),f(2,le,2,11,"ng-container",2)(3,se,1,2,"img",3),a(),s(4,"div",4)(5,"div",5)(6,"h1",6),m(7),a(),s(8,"div",7),m(9),w(10,"currency"),a()(),f(11,me,17,7,"ng-container",2),s(12,"div",8),f(13,pe,2,0,"button",9)(14,de,2,0,"button",10),a(),f(15,ge,5,2,"div",11),a()()),c&2&&(r("ngClass",l.size==="small"?"flex-row":"flex-col"),i(),r("ngClass",l.size==="small"?"w-24 h-24":"w-full"),i(),r("ngIf",l.size==="large"),i(),r("ngIf",l.size==="small"),i(),r("ngClass",l.size==="small"?"flex flex-col justify-center":""),i(2),r("ngClass",l.size==="small"?"text-base":"text-xl"),i(),v(" ",l.worker.serviceTitle,""),i(),r("ngClass",l.size==="small"?"text-base":"text-xl"),i(),v(" ",k(10,13,l.worker.perHourPrice==null?null:l.worker.perHourPrice.toFixed(2),"INR"),"/hr "),i(2),r("ngIf",l.size==="large"),i(2),r("ngIf",l.size==="large"),i(),r("ngIf",l.size==="small"),i(),r("ngIf",l.size==="large"))},dependencies:[b,H,E,P,q,F,Z],styles:[".line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;line-clamp:2;overflow:hidden}.slider[_ngcontent-%COMP%]{position:relative;width:100%;height:300px;overflow:hidden}.slider[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity .5s ease-in-out}.slider[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:first-child{opacity:1}@keyframes _ngcontent-%COMP%_slideShow{0%,33.33%{opacity:1;transform:scale(1)}36.33%{opacity:0;transform:scale(1.1)}98%{opacity:0;transform:scale(1.1)}to{opacity:1;transform:scale(1)}}.slider[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideShow 15s infinite}.slider[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(2){animation-delay:5s}.slider[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(3){animation-delay:10s}"]});let e=t;return e})();var Be=(()=>{let t=class t{};t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=y({type:t,selectors:[["app-service-card-two"]],inputs:{worker:"worker"},standalone:!0,features:[C],decls:14,vars:6,consts:[[3,"routerLink"],[1,"relative","w-full","rounded-lg","overflow-hidden","shadow-md","group","transition-all","duration-300","ease-in-out"],[1,"aspect-w-1","aspect-h-1"],["alt","Service preview",1,"w-full","h-full","object-cover","transition-transform","duration-300","ease-in-out","group-hover:scale-110",3,"src"],[1,"absolute","top-0","right-0","p-4"],[1,"flex","items-center","bg-black","bg-opacity-30","rounded-full","px-3","py-1","transition-opacity","duration-300","ease-in-out","opacity-0","group-hover:opacity-100"],[1,"mr-2","text-sm","font-mono","font-bold","text-white"],["alt","User avatar",1,"w-4","h-4","rounded-full","object-cover",3,"src"],[1,"absolute","bottom-0","left-0","right-0","bg-black","bg-opacity-50","p-4","transition-all","duration-300","ease-in-out","transform","translate-y-full","group-hover:translate-y-0"],[1,"text-xl","font-semibold","text-white"],[1,"text-white","mt-2"]],template:function(c,l){c&1&&(s(0,"a",0)(1,"mat-card",1)(2,"div",2),p(3,"img",3),a(),s(4,"div",4)(5,"div",5)(6,"span",6),m(7),a(),p(8,"img",7),a()(),s(9,"div",8)(10,"h2",9),m(11),a(),s(12,"p",10),m(13),a()()()()),c&2&&(r("routerLink","../service/"+l.worker.id),i(3),r("src",l.worker.smallPreviewImageUrl,h),i(4),x("@"+(l.worker.user==null?null:l.worker.user.firstName)),i(),r("src",l.worker.user==null?null:l.worker.user.profilePicture,h),i(3),x(l.worker.serviceTitle),i(2),v("$",l.worker.perHourPrice,"/hour"))},dependencies:[b,M,Q,K],styles:[".aspect-w-1[_ngcontent-%COMP%]{position:relative;padding-bottom:100%}.aspect-w-1[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;inset:0;object-fit:cover}.bg-opacity-50[_ngcontent-%COMP%]{--tw-bg-opacity: .5}"]});let e=t;return e})();var ee=(()=>{let t=class t{constructor(o){this.http=o,this.apiUrl=`${N.API_BASE_URL}/api/ReviewRating`}createReview(o){return this.http.post(`${this.apiUrl}/review`,o)}getAllReviewWithRating(){return this.http.get(`${this.apiUrl}/all`)}getReviewsByProviderId(o){return this.http.get(`${this.apiUrl}/provider/${o}`)}getAverageRatingForProvider(o){return this.http.get(`${this.apiUrl}/provider/${o}/average-rating`)}getAllProviders(){return this.http.get(`${N.API_BASE_URL}/api/Profile/Workers`)}};t.\u0275fac=function(c){return new(c||t)(B(G))},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var S=()=>[];function ue(e,t){e&1&&(d(0),p(1,"ion-icon",11),g())}function ve(e,t){e&1&&(d(0),p(1,"ion-icon",12),g())}function xe(e,t){e&1&&(d(0),p(1,"ion-icon",13),g())}function _e(e,t){if(e&1&&(d(0),f(1,ue,2,0,"ng-container",10)(2,ve,2,0,"ng-container",6)(3,xe,2,0,"ng-container",10),g()),e&2){let n=u();i(),r("ngForOf",_(3,S).constructor(n.getStarRating(n.averageRating).filled)),i(),r("ngIf",n.getStarRating(n.averageRating).half),i(),r("ngForOf",_(4,S).constructor(n.getStarRating(n.averageRating).empty))}}function we(e,t){e&1&&(d(0),p(1,"ion-icon",14),g())}function ye(e,t){e&1&&(d(0),f(1,we,2,0,"ng-container",10),g()),e&2&&(i(),r("ngForOf",_(1,S).constructor(5)))}function he(e,t){e&1&&(d(0),p(1,"ion-icon",21),g())}function Ce(e,t){e&1&&(d(0),p(1,"ion-icon",22),g())}function be(e,t){e&1&&(d(0),p(1,"ion-icon",23),g())}function Se(e,t){if(e&1&&(d(0),f(1,he,2,0,"ng-container",10)(2,Ce,2,0,"ng-container",6)(3,be,2,0,"ng-container",10),g()),e&2){let n=u().$implicit,o=u();i(),r("ngForOf",_(3,S).constructor(o.getStarRating(n.rating.overallScore).filled)),i(),r("ngIf",o.getStarRating(n.rating.overallScore).half),i(),r("ngForOf",_(4,S).constructor(o.getStarRating(n.rating.overallScore).empty))}}function ke(e,t){e&1&&(d(0),p(1,"ion-icon",24),g())}function Ie(e,t){e&1&&(d(0),f(1,ke,2,0,"ng-container",10),g()),e&2&&(i(),r("ngForOf",_(1,S).constructor(5)))}function Re(e,t){if(e&1&&(s(0,"div",15)(1,"div",16)(2,"div",17),f(3,Se,4,5,"ng-container",6)(4,Ie,2,2,"ng-container",6),a(),s(5,"span",18),m(6),w(7,"number"),a()(),s(8,"p",19),m(9),a(),s(10,"p",20),m(11),w(12,"date"),a()()),e&2){let n=t.$implicit;i(3),r("ngIf",n.rating.overallScore>0),i(),r("ngIf",n.rating.overallScore===0),i(2),v("",k(7,5,n.rating.overallScore,"1.1-1")," stars"),i(3),x(n.comment),i(2),v(" Posted on ",R(12,8,n.createdAt)," ")}}function Ee(e,t){e&1&&(s(0,"div",25),m(1," No reviews yet. "),a())}var Qe=(()=>{let t=class t{constructor(o,c){this.route=o,this.reviewService=c,this.reviews=[],this.averageRating=0}ngOnInit(){this.providerId||this.route.params.subscribe(o=>{this.providerId=o.Id,this.loadReviews()}),this.loadReviews()}loadReviews(){this.reviewService.getReviewsByProviderId(this.providerId).subscribe({next:o=>{this.reviews=o.reviews.$values,this.averageRating=o.averageRating},error:o=>{console.error("Error fetching reviews:",o)}})}getStarRating(o){let c=Math.floor(o),l=o%1>=.5,te=5-c-(l?1:0);return{filled:c,half:l?1:0,empty:te}}};t.\u0275fac=function(c){return new(c||t)(z(J),z(ee))},t.\u0275cmp=y({type:t,selectors:[["app-review-rating"]],inputs:{providerId:"providerId"},standalone:!0,features:[C],decls:15,vars:8,consts:[[1,"container","mx-auto","p-4"],[1,"text-2xl","font-bold","mb-4"],[1,"mb-6","flex","items-center"],[1,"text-lg","font-semibold"],[1,"mx-2"],[1,"flex","items-center"],[4,"ngIf"],[1,"review-list","gap-3"],["class","review-item mb-6 p-4 border-b border-gray-200 shadow-md",4,"ngFor","ngForOf"],["class","text-center text-gray-500 mt-4",4,"ngIf"],[4,"ngFor","ngForOf"],["name","star",1,"text-yellow-400","text-2xl"],["name","star-half",1,"text-yellow-400","text-2xl"],["name","star-outline",1,"text-yellow-400","text-2xl"],["name","star-outline",1,"text-gray-300","text-2xl"],[1,"review-item","mb-6","p-4","border-b","border-gray-200","shadow-md"],[1,"flex","items-center","mb-2"],[1,"flex","mr-2"],[1,"font-semibold"],[1,"text-gray-600","mb-2","text-left"],[1,"text-sm","text-gray-500","text-right"],["name","star",1,"text-yellow-400","text-xl"],["name","star-half",1,"text-yellow-400","text-xl"],["name","star-outline",1,"text-yellow-400","text-xl"],["name","star-outline",1,"text-gray-300","text-xl"],[1,"text-center","text-gray-500","mt-4"]],template:function(c,l){c&1&&(s(0,"div",0)(1,"h2",1),m(2,"Reviews & Ratings"),a(),s(3,"div",2)(4,"h3",3),m(5,"Average Rating :"),a(),s(6,"span",4),m(7),w(8,"number"),a(),s(9,"div",5),f(10,_e,4,5,"ng-container",6)(11,ye,2,2,"ng-container",6),a()(),s(12,"div",7),f(13,Re,13,10,"div",8),a(),f(14,Ee,2,0,"div",9),a()),c&2&&(i(7),v("",k(8,5,l.averageRating,"1.1-1")," out of 5"),i(3),r("ngIf",l.averageRating>0),i(),r("ngIf",l.averageRating===0),i(2),r("ngForOf",l.reviews),i(),r("ngIf",l.reviews.length===0))},dependencies:[Y,X,M,b,E,P,W,F]});let e=t;return e})();export{ze as a,Be as b,ee as c,Qe as d};
